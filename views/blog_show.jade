extends ./layout/basic_layout

block content_right
      div.post_section
        h2.post_section_title=article.title

        div.post_content
            div.post_content_header!= article.created_at
            div.post_content_body!= article.body

            div.post_content_footer
                a.first(href="/blog/"+article._id.toHexString()) Comments(#{article.comments.length})

                if !readOnly
                    |
                    a#blogDelete(href="/blog/delete/"+article._id.toHexString())!= "Delete"
                    |
                    a(href="/blog/upsert/"+article._id.toHexString())!= "Edit"

      - each comment in article.comments
        div.comment
            span.author=comment.person
            div.comment-content=comment.comment

      div.comment
        form.comment-form(method="post", action="/blog/addComment")
          input( type="hidden", name="_id", value=article._id.toHexString())
          div
            span Author :
            input.comment-field(type="text", name="person", id="addCommentPerson")
          div
            span Comment :
            textarea.comment-field(name="comment", rows=5, id="addCommentComment")
          div#editArticleSubmit
            input(type="submit", value="Submit")
